@model AesophWorks.ViewModels.UsersActionViewModel

@if (Model != null)
{
<div class="card">
    <div class="card-body">
        <h4 class="card-title">
            <span>Delete User</span>
        </h4>

        <form id="actionForm">
            <input type="hidden" name="ID" value="@Model.ID" />
        </form>
        <div class="alert alert-danger" role="alert">
            Are you sure you want to delete this User @Model.UserName?
        </div>
        <button id="actionButton" type="button" class="btn btn-danger"><i class="fas fa-trash-alt mr-1"></i> Delete</button>
        <a href="@Url.Action("Users", "Admin")" class="btn btn-secondary"><i class="fas fa-times mr-1"></i> Close</a>
    </div>

</div>
}

<script>
	$("#actionButton").click(function () {
		$.ajax({
			url: '@Url.Action("DeleteUser", "Admin")',
			type: "post",
			data: $("#actionForm").serialize()
		})
		.done(function () {

				window.location.href = "@Url.Action("Users", "Admin")";

		});
	});
</script>